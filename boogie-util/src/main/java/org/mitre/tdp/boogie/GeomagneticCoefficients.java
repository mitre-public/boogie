package org.mitre.tdp.boogie;

import java.time.Instant;
import java.util.*;

/**
 * The input string array which contains each line of input for the
 * wmm.cof input file.  Added so that all data was internal, so that
 * applications do not have to mess with carrying around a data file.
 * In the TSAGeoMag Class, the columns in this file are as follows:
 * n, m,      gnm,      hnm,       dgnm,      dhnm
 */
public enum GeomagneticCoefficients {
  WMM2010(new String[] {"    2010.0            WMM-2010        11/20/2009",
      "  1  0  -29496.6       0.0       11.6        0.0",
      "  1  1   -1586.3    4944.4       16.5      -25.9",
      "  2  0   -2396.6       0.0      -12.1        0.0",
      "  2  1    3026.1   -2707.7       -4.4      -22.5",
      "  2  2    1668.6    -576.1        1.9      -11.8",
      "  3  0    1340.1       0.0        0.4        0.0",
      "  3  1   -2326.2    -160.2       -4.1        7.3",
      "  3  2    1231.9     251.9       -2.9       -3.9",
      "  3  3     634.0    -536.6       -7.7       -2.6",
      "  4  0     912.6       0.0       -1.8        0.0",
      "  4  1     808.9     286.4        2.3        1.1",
      "  4  2     166.7    -211.2       -8.7        2.7",
      "  4  3    -357.1     164.3        4.6        3.9",
      "  4  4      89.4    -309.1       -2.1       -0.8",
      "  5  0    -230.9       0.0       -1.0        0.0",
      "  5  1     357.2      44.6        0.6        0.4",
      "  5  2     200.3     188.9       -1.8        1.8",
      "  5  3    -141.1    -118.2       -1.0        1.2",
      "  5  4    -163.0       0.0        0.9        4.0",
      "  5  5      -7.8     100.9        1.0       -0.6",
      "  6  0      72.8       0.0       -0.2        0.0",
      "  6  1      68.6     -20.8       -0.2       -0.2",
      "  6  2      76.0      44.1       -0.1       -2.1",
      "  6  3    -141.4      61.5        2.0       -0.4",
      "  6  4     -22.8     -66.3       -1.7       -0.6",
      "  6  5      13.2       3.1       -0.3        0.5",
      "  6  6     -77.9      55.0        1.7        0.9",
      "  7  0      80.5       0.0        0.1        0.0",
      "  7  1     -75.1     -57.9       -0.1        0.7",
      "  7  2      -4.7     -21.1       -0.6        0.3",
      "  7  3      45.3       6.5        1.3       -0.1",
      "  7  4      13.9      24.9        0.4       -0.1",
      "  7  5      10.4       7.0        0.3       -0.8",
      "  7  6       1.7     -27.7       -0.7       -0.3",
      "  7  7       4.9      -3.3        0.6        0.3",
      "  8  0      24.4       0.0       -0.1        0.0",
      "  8  1       8.1      11.0        0.1       -0.1",
      "  8  2     -14.5     -20.0       -0.6        0.2",
      "  8  3      -5.6      11.9        0.2        0.4",
      "  8  4     -19.3     -17.4       -0.2        0.4",
      "  8  5      11.5      16.7        0.3        0.1",
      "  8  6      10.9       7.0        0.3       -0.1",
      "  8  7     -14.1     -10.8       -0.6        0.4",
      "  8  8      -3.7       1.7        0.2        0.3",
      "  9  0       5.4       0.0       -0.0        0.0",
      "  9  1       9.4     -20.5       -0.1       -0.0",
      "  9  2       3.4      11.5        0.0       -0.2",
      "  9  3      -5.2      12.8        0.3        0.0",
      "  9  4       3.1      -7.2       -0.4       -0.1",
      "  9  5     -12.4      -7.4       -0.3        0.1",
      "  9  6      -0.7       8.0        0.1       -0.0",
      "  9  7       8.4       2.1       -0.1       -0.2",
      "  9  8      -8.5      -6.1       -0.4        0.3",
      "  9  9     -10.1       7.0       -0.2        0.2",
      " 10  0      -2.0       0.0        0.0        0.0",
      " 10  1      -6.3       2.8       -0.0        0.1",
      " 10  2       0.9      -0.1       -0.1       -0.1",
      " 10  3      -1.1       4.7        0.2        0.0",
      " 10  4      -0.2       4.4       -0.0       -0.1",
      " 10  5       2.5      -7.2       -0.1       -0.1",
      " 10  6      -0.3      -1.0       -0.2       -0.0",
      " 10  7       2.2      -3.9        0.0       -0.1",
      " 10  8       3.1      -2.0       -0.1       -0.2",
      " 10  9      -1.0      -2.0       -0.2        0.0",
      " 10 10      -2.8      -8.3       -0.2       -0.1",
      " 11  0       3.0       0.0        0.0        0.0",
      " 11  1      -1.5       0.2        0.0       -0.0",
      " 11  2      -2.1       1.7       -0.0        0.1",
      " 11  3       1.7      -0.6        0.1        0.0",
      " 11  4      -0.5      -1.8       -0.0        0.1",
      " 11  5       0.5       0.9        0.0        0.0",
      " 11  6      -0.8      -0.4       -0.0        0.1",
      " 11  7       0.4      -2.5       -0.0        0.0",
      " 11  8       1.8      -1.3       -0.0       -0.1",
      " 11  9       0.1      -2.1        0.0       -0.1",
      " 11 10       0.7      -1.9       -0.1       -0.0",
      " 11 11       3.8      -1.8       -0.0       -0.1",
      " 12  0      -2.2       0.0       -0.0        0.0",
      " 12  1      -0.2      -0.9        0.0       -0.0",
      " 12  2       0.3       0.3        0.1        0.0",
      " 12  3       1.0       2.1        0.1       -0.0",
      " 12  4      -0.6      -2.5       -0.1        0.0",
      " 12  5       0.9       0.5       -0.0       -0.0",
      " 12  6      -0.1       0.6        0.0        0.1",
      " 12  7       0.5      -0.0        0.0        0.0",
      " 12  8      -0.4       0.1       -0.0        0.0",
      " 12  9      -0.4       0.3        0.0       -0.0",
      " 12 10       0.2      -0.9        0.0       -0.0",
      " 12 11      -0.8      -0.2       -0.1        0.0",
      " 12 12       0.0       0.9        0.1        0.0"}),
  WMM2015(new String[] {"    2015.0            WMM-2015        12/15/2014",
      "  1  0  -29438.5       0.0       10.7        0.0",
      "  1  1   -1501.1    4796.2       17.9      -26.8",
      "  2  0   -2445.3       0.0       -8.6        0.0",
      "  2  1    3012.5   -2845.6       -3.3      -27.1",
      "  2  2    1676.6    -642.0        2.4      -13.3",
      "  3  0    1351.1       0.0        3.1        0.0",
      "  3  1   -2352.3    -115.3       -6.2        8.4",
      "  3  2    1225.6     245.0       -0.4       -0.4",
      "  3  3     581.9    -538.3      -10.4        2.3",
      "  4  0     907.2       0.0       -0.4        0.0",
      "  4  1     813.7     283.4        0.8       -0.6",
      "  4  2     120.3    -188.6       -9.2        5.3",
      "  4  3    -335.0     180.9        4.0        3.0",
      "  4  4      70.3    -329.5       -4.2       -5.3",
      "  5  0    -232.6       0.0       -0.2        0.0",
      "  5  1     360.1      47.4        0.1        0.4",
      "  5  2     192.4     196.9       -1.4        1.6",
      "  5  3    -141.0    -119.4        0.0       -1.1",
      "  5  4    -157.4      16.1        1.3        3.3",
      "  5  5       4.3     100.1        3.8        0.1",
      "  6  0      69.5       0.0       -0.5        0.0",
      "  6  1      67.4     -20.7       -0.2        0.0",
      "  6  2      72.8      33.2       -0.6       -2.2",
      "  6  3    -129.8      58.8        2.4       -0.7",
      "  6  4     -29.0     -66.5       -1.1        0.1",
      "  6  5      13.2       7.3        0.3        1.0",
      "  6  6     -70.9      62.5        1.5        1.3",
      "  7  0      81.6       0.0        0.2        0.0",
      "  7  1     -76.1     -54.1       -0.2        0.7",
      "  7  2      -6.8     -19.4       -0.4        0.5",
      "  7  3      51.9       5.6        1.3       -0.2",
      "  7  4      15.0      24.4        0.2       -0.1",
      "  7  5       9.3       3.3       -0.4       -0.7",
      "  7  6      -2.8     -27.5       -0.9        0.1",
      "  7  7       6.7      -2.3        0.3        0.1",
      "  8  0      24.0       0.0        0.0        0.0",
      "  8  1       8.6      10.2        0.1       -0.3",
      "  8  2     -16.9     -18.1       -0.5        0.3",
      "  8  3      -3.2      13.2        0.5        0.3",
      "  8  4     -20.6     -14.6       -0.2        0.6",
      "  8  5      13.3      16.2        0.4       -0.1",
      "  8  6      11.7       5.7        0.2       -0.2",
      "  8  7     -16.0      -9.1       -0.4        0.3",
      "  8  8      -2.0       2.2        0.3        0.0",
      "  9  0       5.4       0.0        0.0        0.0",
      "  9  1       8.8     -21.6       -0.1       -0.2",
      "  9  2       3.1      10.8       -0.1       -0.1",
      "  9  3      -3.1      11.7        0.4       -0.2",
      "  9  4       0.6      -6.8       -0.5        0.1",
      "  9  5     -13.3      -6.9       -0.2        0.1",
      "  9  6      -0.1       7.8        0.1        0.0",
      "  9  7       8.7       1.0        0.0       -0.2",
      "  9  8      -9.1      -3.9       -0.2        0.4",
      "  9  9     -10.5       8.5       -0.1        0.3",
      " 10  0      -1.9       0.0        0.0        0.0",
      " 10  1      -6.5       3.3        0.0        0.1",
      " 10  2       0.2      -0.3       -0.1       -0.1",
      " 10  3       0.6       4.6        0.3        0.0",
      " 10  4      -0.6       4.4       -0.1        0.0",
      " 10  5       1.7      -7.9       -0.1       -0.2",
      " 10  6      -0.7      -0.6       -0.1        0.1",
      " 10  7       2.1      -4.1        0.0       -0.1",
      " 10  8       2.3      -2.8       -0.2       -0.2",
      " 10  9      -1.8      -1.1       -0.1        0.1",
      " 10 10      -3.6      -8.7       -0.2       -0.1",
      " 11  0       3.1       0.0        0.0        0.0",
      " 11  1      -1.5      -0.1        0.0        0.0",
      " 11  2      -2.3       2.1       -0.1        0.1",
      " 11  3       2.1      -0.7        0.1        0.0",
      " 11  4      -0.9      -1.1        0.0        0.1",
      " 11  5       0.6       0.7        0.0        0.0",
      " 11  6      -0.7      -0.2        0.0        0.0",
      " 11  7       0.2      -2.1        0.0        0.1",
      " 11  8       1.7      -1.5        0.0        0.0",
      " 11  9      -0.2      -2.5        0.0       -0.1",
      " 11 10       0.4      -2.0       -0.1        0.0",
      " 11 11       3.5      -2.3       -0.1       -0.1",
      " 12  0      -2.0       0.0        0.1        0.0",
      " 12  1      -0.3      -1.0        0.0        0.0",
      " 12  2       0.4       0.5        0.0        0.0",
      " 12  3       1.3       1.8        0.1       -0.1",
      " 12  4      -0.9      -2.2       -0.1        0.0",
      " 12  5       0.9       0.3        0.0        0.0",
      " 12  6       0.1       0.7        0.1        0.0",
      " 12  7       0.5      -0.1        0.0        0.0",
      " 12  8      -0.4       0.3        0.0        0.0",
      " 12  9      -0.4       0.2        0.0        0.0",
      " 12 10       0.2      -0.9        0.0        0.0",
      " 12 11      -0.9      -0.2        0.0        0.0",
      " 12 12       0.0       0.7        0.0        0.0"}),
  WMM2020(new String[] {"    2020.0            WMM-2020        12/10/2019",
      "  1  0  -29404.5       0.0        6.7        0.0",
      "  1  1   -1450.7    4652.9        7.7      -25.1",
      "  2  0   -2500.0       0.0      -11.5        0.0",
      "  2  1    2982.0   -2991.6       -7.1      -30.2",
      "  2  2    1676.8    -734.8       -2.2      -23.9",
      "  3  0    1363.9       0.0        2.8        0.0",
      "  3  1   -2381.0     -82.2       -6.2        5.7",
      "  3  2    1236.2     241.8        3.4       -1.0",
      "  3  3     525.7    -542.9      -12.2        1.1",
      "  4  0     903.1       0.0       -1.1        0.0",
      "  4  1     809.4     282.0       -1.6        0.2",
      "  4  2      86.2    -158.4       -6.0        6.9",
      "  4  3    -309.4     199.8        5.4        3.7",
      "  4  4      47.9    -350.1       -5.5       -5.6",
      "  5  0    -234.4       0.0       -0.3        0.0",
      "  5  1     363.1      47.7        0.6        0.1",
      "  5  2     187.8     208.4       -0.7        2.5",
      "  5  3    -140.7    -121.3        0.1       -0.9",
      "  5  4    -151.2      32.2        1.2        3.0",
      "  5  5      13.7      99.1        1.0        0.5",
      "  6  0      65.9       0.0       -0.6        0.0",
      "  6  1      65.6     -19.1       -0.4        0.1",
      "  6  2      73.0      25.0        0.5       -1.8",
      "  6  3    -121.5      52.7        1.4       -1.4",
      "  6  4     -36.2     -64.4       -1.4        0.9",
      "  6  5      13.5       9.0       -0.0        0.1",
      "  6  6     -64.7      68.1        0.8        1.0",
      "  7  0      80.6       0.0       -0.1        0.0",
      "  7  1     -76.8     -51.4       -0.3        0.5",
      "  7  2      -8.3     -16.8       -0.1        0.6",
      "  7  3      56.5       2.3        0.7       -0.7",
      "  7  4      15.8      23.5        0.2       -0.2",
      "  7  5       6.4      -2.2       -0.5       -1.2",
      "  7  6      -7.2     -27.2       -0.8        0.2",
      "  7  7       9.8      -1.9        1.0        0.3",
      "  8  0      23.6       0.0       -0.1        0.0",
      "  8  1       9.8       8.4        0.1       -0.3",
      "  8  2     -17.5     -15.3       -0.1        0.7",
      "  8  3      -0.4      12.8        0.5       -0.2",
      "  8  4     -21.1     -11.8       -0.1        0.5",
      "  8  5      15.3      14.9        0.4       -0.3",
      "  8  6      13.7       3.6        0.5       -0.5",
      "  8  7     -16.5      -6.9        0.0        0.4",
      "  8  8      -0.3       2.8        0.4        0.1",
      "  9  0       5.0       0.0       -0.1        0.0",
      "  9  1       8.2     -23.3       -0.2       -0.3",
      "  9  2       2.9      11.1       -0.0        0.2",
      "  9  3      -1.4       9.8        0.4       -0.4",
      "  9  4      -1.1      -5.1       -0.3        0.4",
      "  9  5     -13.3      -6.2       -0.0        0.1",
      "  9  6       1.1       7.8        0.3       -0.0",
      "  9  7       8.9       0.4       -0.0       -0.2",
      "  9  8      -9.3      -1.5       -0.0        0.5",
      "  9  9     -11.9       9.7       -0.4        0.2",
      " 10  0      -1.9       0.0        0.0        0.0",
      " 10  1      -6.2       3.4       -0.0       -0.0",
      " 10  2      -0.1      -0.2       -0.0        0.1",
      " 10  3       1.7       3.5        0.2       -0.3",
      " 10  4      -0.9       4.8       -0.1        0.1",
      " 10  5       0.6      -8.6       -0.2       -0.2",
      " 10  6      -0.9      -0.1       -0.0        0.1",
      " 10  7       1.9      -4.2       -0.1       -0.0",
      " 10  8       1.4      -3.4       -0.2       -0.1",
      " 10  9      -2.4      -0.1       -0.1        0.2",
      " 10 10      -3.9      -8.8       -0.0       -0.0",
      " 11  0       3.0       0.0       -0.0        0.0",
      " 11  1      -1.4      -0.0       -0.1       -0.0",
      " 11  2      -2.5       2.6       -0.0        0.1",
      " 11  3       2.4      -0.5        0.0        0.0",
      " 11  4      -0.9      -0.4       -0.0        0.2",
      " 11  5       0.3       0.6       -0.1       -0.0",
      " 11  6      -0.7      -0.2        0.0        0.0",
      " 11  7      -0.1      -1.7       -0.0        0.1",
      " 11  8       1.4      -1.6       -0.1       -0.0",
      " 11  9      -0.6      -3.0       -0.1       -0.1",
      " 11 10       0.2      -2.0       -0.1        0.0",
      " 11 11       3.1      -2.6       -0.1       -0.0",
      " 12  0      -2.0       0.0        0.0        0.0",
      " 12  1      -0.1      -1.2       -0.0       -0.0",
      " 12  2       0.5       0.5       -0.0        0.0",
      " 12  3       1.3       1.3        0.0       -0.1",
      " 12  4      -1.2      -1.8       -0.0        0.1",
      " 12  5       0.7       0.1       -0.0       -0.0",
      " 12  6       0.3       0.7        0.0        0.0",
      " 12  7       0.5      -0.1       -0.0       -0.0",
      " 12  8      -0.2       0.6        0.0        0.1",
      " 12  9      -0.5       0.2       -0.0       -0.0",
      " 12 10       0.1      -0.9       -0.0       -0.0",
      " 12 11      -1.1      -0.0       -0.0        0.0",
      " 12 12      -0.3       0.5       -0.1       -0.1"}),

  WMM2025(new String[] {"1  0  -29351.8       0.0       12.0        0.0",
      "  1  1   -1410.8    4545.4        9.7      -21.5",
      "  2  0   -2556.6       0.0      -11.6        0.0",
      "  2  1    2951.1   -3133.6       -5.2      -27.7",
      "  2  2    1649.3    -815.1       -8.0      -12.1",
      "  3  0    1361.0       0.0       -1.3        0.0",
      "  3  1   -2404.1     -56.6       -4.2        4.0",
      "  3  2    1243.8     237.5        0.4       -0.3",
      "  3  3     453.6    -549.5      -15.6       -4.1",
      "  4  0     895.0       0.0       -1.6        0.0",
      "  4  1     799.5     278.6       -2.4       -1.1",
      "  4  2      55.7    -133.9       -6.0        4.1",
      "  4  3    -281.1     212.0        5.6        1.6",
      "  4  4      12.1    -375.6       -7.0       -4.4",
      "  5  0    -233.2       0.0        0.6        0.0",
      "  5  1     368.9      45.4        1.4       -0.5",
      "  5  2     187.2     220.2        0.0        2.2",
      "  5  3    -138.7    -122.9        0.6        0.4",
      "  5  4    -142.0      43.0        2.2        1.7",
      "  5  5      20.9     106.1        0.9        1.9",
      "  6  0      64.4       0.0       -0.2        0.0",
      "  6  1      63.8     -18.4       -0.4        0.3",
      "  6  2      76.9      16.8        0.9       -1.6",
      "  6  3    -115.7      48.8        1.2       -0.4",
      "  6  4     -40.9     -59.8       -0.9        0.9",
      "  6  5      14.9      10.9        0.3        0.7",
      "  6  6     -60.7      72.7        0.9        0.9",
      "  7  0      79.5       0.0       -0.0        0.0",
      "  7  1     -77.0     -48.9       -0.1        0.6",
      "  7  2      -8.8     -14.4       -0.1        0.5",
      "  7  3      59.3      -1.0        0.5       -0.8",
      "  7  4      15.8      23.4       -0.1        0.0",
      "  7  5       2.5      -7.4       -0.8       -1.0",
      "  7  6     -11.1     -25.1       -0.8        0.6",
      "  7  7      14.2      -2.3        0.8       -0.2",
      "  8  0      23.2       0.0       -0.1        0.0",
      "  8  1      10.8       7.1        0.2       -0.2",
      "  8  2     -17.5     -12.6        0.0        0.5",
      "  8  3       2.0      11.4        0.5       -0.4",
      "  8  4     -21.7      -9.7       -0.1        0.4",
      "  8  5      16.9      12.7        0.3       -0.5",
      "  8  6      15.0       0.7        0.2       -0.6",
      "  8  7     -16.8      -5.2       -0.0        0.3",
      "  8  8       0.9       3.9        0.2        0.2",
      "  9  0       4.6       0.0       -0.0        0.0",
      "  9  1       7.8     -24.8       -0.1       -0.3",
      "  9  2       3.0      12.2        0.1        0.3",
      "  9  3      -0.2       8.3        0.3       -0.3",
      "  9  4      -2.5      -3.3       -0.3        0.3",
      "  9  5     -13.1      -5.2        0.0        0.2",
      "  9  6       2.4       7.2        0.3       -0.1",
      "  9  7       8.6      -0.6       -0.1       -0.2",
      "  9  8      -8.7       0.8        0.1        0.4",
      "  9  9     -12.9      10.0       -0.1        0.1",
      " 10  0      -1.3       0.0        0.1        0.0",
      " 10  1      -6.4       3.3        0.0        0.0",
      " 10  2       0.2       0.0        0.1       -0.0",
      " 10  3       2.0       2.4        0.1       -0.2",
      " 10  4      -1.0       5.3       -0.0        0.1",
      " 10  5      -0.6      -9.1       -0.3       -0.1",
      " 10  6      -0.9       0.4        0.0        0.1",
      " 10  7       1.5      -4.2       -0.1        0.0",
      " 10  8       0.9      -3.8       -0.1       -0.1",
      " 10  9      -2.7       0.9       -0.0        0.2",
      " 10 10      -3.9      -9.1       -0.0       -0.0",
      " 11  0       2.9       0.0        0.0        0.0",
      " 11  1      -1.5       0.0       -0.0       -0.0",
      " 11  2      -2.5       2.9        0.0        0.1",
      " 11  3       2.4      -0.6        0.0       -0.0",
      " 11  4      -0.6       0.2        0.0        0.1",
      " 11  5      -0.1       0.5       -0.1       -0.0",
      " 11  6      -0.6      -0.3        0.0       -0.0",
      " 11  7      -0.1      -1.2       -0.0        0.1",
      " 11  8       1.1      -1.7       -0.1       -0.0",
      " 11  9      -1.0      -2.9       -0.1        0.0",
      " 11 10      -0.2      -1.8       -0.1        0.0",
      " 11 11       2.6      -2.3       -0.1        0.0",
      " 12  0      -2.0       0.0        0.0        0.0",
      " 12  1      -0.2      -1.3        0.0       -0.0",
      " 12  2       0.3       0.7       -0.0        0.0",
      " 12  3       1.2       1.0       -0.0       -0.1",
      " 12  4      -1.3      -1.4       -0.0        0.1",
      " 12  5       0.6      -0.0       -0.0       -0.0",
      " 12  6       0.6       0.6        0.1       -0.0",
      " 12  7       0.5      -0.1       -0.0       -0.0",
      " 12  8      -0.1       0.8        0.0        0.0",
      " 12  9      -0.4       0.1        0.0       -0.0",
      " 12 10      -0.2      -1.0       -0.1       -0.0",
      " 12 11      -1.3       0.1       -0.0        0.0",
      " 12 12      -0.7       0.2       -0.1       -0.1"});

  private static final NavigableMap<Instant, GeomagneticCoefficients> timeToCoefficients;
  static {
    NavigableMap<Instant, GeomagneticCoefficients> mutable = new TreeMap<>();
    mutable.put(Instant.parse("2010-01-01T00:00:00Z"), GeomagneticCoefficients.WMM2010);
    mutable.put(Instant.parse("2015-01-01T00:00:00Z"), GeomagneticCoefficients.WMM2015);
    mutable.put(Instant.parse("2020-01-01T00:00:00Z"), GeomagneticCoefficients.WMM2020);
    mutable.put(Instant.parse("2025-01-01T00:00:00Z"), GeomagneticCoefficients.WMM2025);
    timeToCoefficients = Collections.unmodifiableNavigableMap(mutable);
  }

  private final String[] rawCoeffs;

  GeomagneticCoefficients(String[] coeffs) {
    this.rawCoeffs = coeffs;
  }

  public static GeomagneticCoefficients coefficientsAtTime(Instant tau) {
    return Optional.ofNullable(timeToCoefficients.lowerEntry(tau)).map(Map.Entry::getValue)
        .or(() -> Optional.ofNullable(timeToCoefficients.higherEntry(tau)).map(Map.Entry::getValue))
        .orElseThrow(IllegalStateException::new);
  }

  public String[] rawCoefficients() {
    return rawCoeffs;
  }
}